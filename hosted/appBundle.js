(()=>{var e={603:e=>{const t=e=>{document.getElementById("errorMessage").textContent=e,document.getElementById("gameMessage").classList.remove("hidden")};e.exports={handleError:t,sendPost:async(e,a,r)=>{const l=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),c=await l.json();document.getElementById("gameMessage").classList.add("hidden"),c.error&&t(c.error),c.redirect&&(window.location=c.redirect),r&&r(c)},hideError:()=>{document.getElementById("gameMessage").classList.add("hidden")}}}},t={};function a(r){var l=t[r];if(void 0!==l)return l.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,a),c.exports}(()=>{const e=a(603),t=t=>{t.preventDefault(),e.hideError();const a=t.target.querySelector("#gameName").value,r=t.target.querySelector("#gamehours").value,l=t.target.querySelector("#gameGenre").value,c=t.target.querySelector("#_csrf").value,m=t.target.querySelector("#gamefileId").value,n=t.target.querySelector("#start").value;return a&&r&&n&&m&&l?(e.sendPost(t.target.action,{name:a,hours:r,start:n,genre:l,fileId:m,_csrf:c},s),!1):(e.handleError("All fields are required!"),!1)},r=t=>{t.preventDefault(),e.hideError();const a=document.querySelector("#_csrf").value,r=t.target.querySelector("#_id").value;e.sendPost(t.target.action,{_id:r,_csrf:a},s)},l=e=>React.createElement("div",null,React.createElement("form",{id:"gameForm",onSubmit:t,name:"gameForm",action:"/maker",method:"POST",className:"gameForm"},React.createElement("div",{className:"grid gap-6 mb-6 md:grid-cols-2",id:"gameForm1"},React.createElement("div",null,React.createElement("label",{htmlFor:"name",className:"ml-12 block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Name:"),React.createElement("input",{type:"text",id:"gameName",name:"name",placeholder:"Game Name",className:"ml-12 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})),React.createElement("br",null),React.createElement("div",null,React.createElement("label",{htmlFor:"hours",className:"ml-12 block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Hours:"),React.createElement("input",{type:"number",id:"gameHours",name:"hours",className:"ml-12 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})),React.createElement("br",null),React.createElement("div",null,React.createElement("label",{htmlFor:"fileId",className:"ml-12 block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"File ID:"),React.createElement("input",{type:"text",id:"gamefileId",name:"fileId",className:"ml-12 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})),React.createElement("br",null),React.createElement("div",null,React.createElement("label",{htmlFor:"genre",className:"ml-12 block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Genre:"),React.createElement("input",{type:"text",id:"gameGenre",name:"genre",className:"ml-12 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})),React.createElement("br",null),React.createElement("div",null,React.createElement("label",{htmlFor:"start",className:"ml-12 block mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},"Start Date:"),React.createElement("input",{type:"date",id:"start",name:"start",className:"ml-12 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:!0})),React.createElement("input",{type:"hidden",id:"_csrf",name:"_csrf",value:e.csrf}),React.createElement("br",null),React.createElement("br",null),React.createElement("input",{className:"makeGameSubmit",type:"submit",value:"Make Game"}))),React.createElement("form",{id:"uploadForm",action:"/upload",method:"post",encType:"multipart/form-data"},React.createElement("input",{type:"file",name:"sampleFile"}),React.createElement("input",{type:"hidden",id:"_csrf",name:"_csrf",value:e.csrf}),React.createElement("br",null),React.createElement("br",null),React.createElement("input",{type:"submit",value:"Upload!",id:"uploadButton"})),React.createElement("form",{id:"retrieveForm",action:"/retrieve",method:"get"},React.createElement("label",{htmlFor:"fileName"},"Retrieve File By ID: "),React.createElement("br",null),React.createElement("br",null),React.createElement("input",{name:"_id",type:"text"}),React.createElement("input",{type:"submit",value:"Retrieve!"})),React.createElement("section",{id:"messages"})),c=e=>{if(0===e.games.length)return React.createElement("h3",{className:"emptyGame"},"No Games Yet!");const t=e.games.map((t=>{t.imgId;const a=new Date(Date.parse(t.start)).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"});return console.log(t),React.createElement("div",{key:t._id,className:"game"},React.createElement("img",{src:"/assets/img/gamePad.jpg",alt:"game symbol",className:"gameSymbol"}),React.createElement("h3",{className:"gameName"},"Name: ",t.name," "),React.createElement("h3",{className:"gameHours"},"Hours Played: ",t.hours," "),React.createElement("h3",{className:"gameGenre"},"Genre: ",t.genre," "),React.createElement("h3",{className:"gamefileId"},"File ID: ",t.fileId," "),React.createElement("h3",{className:"start"},"Start Date: ",a," "),React.createElement("form",{action:"/delete",name:"deleteButton",method:"POST",onSubmit:r},React.createElement("input",{className:"makeGameSubmit",type:"submit",value:"Delete",id:"deleteButton"}),React.createElement("input",{type:"hidden",id:"_csrf",name:"_csrf",value:e.csrf}),React.createElement("input",{type:"hidden",id:"_id",name:"_id",value:t._id})))}));return React.createElement("div",{className:"gameList"},t)},m=t=>{t.preventDefault(),e.hideError();const a=t.target.querySelector("#pass").value,r=t.target.querySelector("#pass2").value,l=t.target.querySelector("#_csrf").value;return a&&r?(e.sendPost(t.target.action,{newPass:a,newPass2:r,_csrf:l}),!1):(e.handleError("All fields are required"),!1)},n=e=>React.createElement("form",{id:"changePasswordForm",name:"changePasswordForm",onSubmit:m,action:"/changePassword",method:"POST"},React.createElement("label",{htmlFor:"pass",className:"block ml-5"},"New password: "),React.createElement("input",{type:"password",id:"pass",name:"pass",placeholder:"new password",className:"block ml-5 "}),React.createElement("label",{htmlFor:"pass2",className:"block ml-5"},"Confirm New password: "),React.createElement("input",{type:"password",id:"pass2",name:"pass2",placeholder:"retype new password",className:"block ml-5"}),React.createElement("input",{type:"hidden",id:"_csrf",name:"_csrf",value:e.csrf}),React.createElement("input",{className:"formSubmit",type:"submit",value:"Change Password"})),s=async()=>{const e=await fetch("/getGames"),t=await e.json();ReactDOM.render(React.createElement(c,{games:t.games}),document.getElementById("games"))};window.onload=async()=>{const e=await fetch("/getToken"),t=await e.json();document.getElementById("changePassword").addEventListener("click",(async e=>{e.preventDefault(),ReactDOM.render(React.createElement(n,{csrf:t.csrfToken}),document.getElementById("changePasswordSection"))})),ReactDOM.render(React.createElement(l,{csrf:t.csrfToken}),document.getElementById("makeGame")),ReactDOM.render(React.createElement(c,{games:[],csrf:t.csrfToken}),document.getElementById("games")),s()}})()})();